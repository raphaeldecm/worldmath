{% load static %}
{% load static i18n %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{% block title %}WorldMath{% endblock title %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="World Math Project">
    <meta name="author" content="Raphael Muniz">

    <link rel="icon" href="{% static 'images/logo.png' %}">

    {% block css %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css"
        integrity="sha512-SbiR/eusphKoMVVXysTKG/7VseWii+Y3FdHrt0EpKgpToZeemhqHeZeLWLhJutz/2ut2Vw1uQEj2MbRF+TVBUA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    {% endblock %}

    {# Placed at the top of the document so pages load faster with defer #}
    {% block javascript %}
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script defer src="{% static 'js/project.js' %}"></script>

    {% endblock javascript %}

</head>

<body>
    <header style="margin-bottom: -20px;">
        <nav class="navbar navbar-expand-lg" style="display: flex; justify-content: space-between;">
    
            
            <a style="margin-left: 85px;" class="navbar-brand" href="{% url 'Postagem:index' %}">
                <img class="img-fluid" src="{% static 'images/logo.png' %}" alt="Logo" width="30" height="30" class="d-inline-block align-top logo" alt="">
                <strong>WORLDMATH</strong>
            </a>
    
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
    
          
            <div style="margin-right: 85px;" class="container-fluid">
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'Postagem:exercicios' %}">Exercícios</a>
                        </li>
                        <li class="nav-item" style="margin-right: 15px;">
                            <a class="nav-link" href="{% url 'Postagem:galeria' %}">Matemáticos</a>
                        </li>
                        <li class="nav-item" style="margin-right: 15px;">
                            <a class="nav-link" href="{% url 'Postagem:Novidades' %}">Novidades</a>
                        </li>
                        <li class="nav-item" style="margin-right: 15px;">
                            <a class="nav-link" href="{% url 'Postagem:Historia' %}">História</a>
                        </li>
                        <li class="nav-item custom-dropdown">
                            {% if user.is_authenticated %}
                                <button class="btn btn rounded-pill" type="button" onclick="toggleDropdown()" style="background-color: blue;color: white;margin-right: -40px;">
                                    <svg style="margin-right: 5px;" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                        <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                                    </svg>
                                    {{ user.username }}
                                </button>
                                <div style="margin-left: 50px;" class="dropdown-menu text-center" id="customDropdown" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="{% url 'core:home' %}">Dashboard</a>
                                    <form method="post" action="{% url 'account_logout' %}" style="width: 50%;">
                                        {% csrf_token %}
                                        {% if redirect_field_value %}
                                            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                                        {% endif %}
                                        <button style="width: 50%; background-color: white; color: black;" class="" type="submit">Sair</button>
                                    </form>
                                </div>
                            {% else %}
                            <div style="position: relative; display: inline-block;">
                                <button class="btn btn rounded-pill" type="button" onclick="toggleDropdown()" style="background-color: blue; color: white; margin-right: -40px;">
                                    <svg style="margin-right: 5px;" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                        <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                                    </svg>
                                    Usuário
                                </button>
                                
                                <div style="margin-left: 50px;" class="dropdown-menu text-center" id="customDropdown" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="{% url 'account_login' %}">Entrar</a>
                                    <a class="dropdown-item" href="{% url 'account_signup' %}">
                                        <i class="fas fa-user-plus" aria-hidden="true"></i> Cadastrar-se
                                    </a>
                                    
                                </div>
                            </div>
                               
                                
                            </div>
        
                            {% endif %}
                        </li>   
                    </ul>
                </div>
            </div>
    
        </nav>
    </header>
    
    <div class="main-content pl-sm-3 mt-4" id="main-content">
        {% if messages %}
        {% include "layouts/messages.html" %}
      {% endif %}

    {% block content %}

    {% endblock content %}

    <footer class="container-fluid">
        <div class="row d-flex justify-content-around">
            <div style="margin-left: -55px;" class="col-xl-3 col-lg-8 col-md-8">
                <img class="img-fluid" src="{% static 'images/footer.png' %}" alt="footer">
            </div>
            <div class="col-xl-2 col-lg-8 links" style="margin-left: -200px;">
                <div class="border-links">
                    <h4><strong>Links</strong></h4>
                </div>
                <ul class="list-unstyled">
                    <li><a href="{% url 'Postagem:index' %}">Home</a></li>
                    <li><a href="{% url 'Postagem:galeria' %}">Matemáticos</a></li>
                    <li><a href="{% url 'Postagem:Historia' %}">História</a></li>
                    <li><a href="{% url 'Postagem:Novidades'  %}">Novidades</a></li>
                </ul>
            </div>
            <div style="margin-right: -80px;" class="col-xl-2 col-lg-8 d-flex flex-column align-items-center">
                <img class="img-fluid" src="{% static 'images/pngs1.png' %}" alt="pngs">
                <p class="p-ifrn">Projetado e desenvolvido por alunos do IFRN</p>
            </div>
            <div class="col-xl-2 col-lg-8">
                <h4 class="border-links"><strong> Contato</strong></h4>
                <div style="margin-left: -35px;" class=" numero d-flex justify-content-around">
                    <img style="margin-right: -75px;" class="img-fluid" src="{% static 'images/Vector (3).png' %}" alt="">
                    <p>(84) 4002-8922</p>
                </div>
                <div class=" d-flex justify-content-center">
                    <img style="margin-right: 25px; margin-left: -50px;" class="img-fluid" src="{% static 'images/Vector (2).png' %}" alt="">
                    <a href="{% url 'Postagem:contato' %}" style="margin-right: 25px;"><img class="img-fluid" src="{% static 'images/Vector (1).png' %}" alt=""></a>
                    <img class="img-fluid" src="{% static 'images/Vector.png' %}" alt="">
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        function toggleDropdown() {
            var dropdown = document.getElementById('customDropdown');
            dropdown.style.display = (dropdown.style.display === 'block') ? 'none' : 'block';
        }

        // Fechar o dropdown se clicar fora dele
        window.onclick = function (event) {
            if (!event.target.matches('.btn') && !event.target.matches('.dropdown-item')) {
                var dropdown = document.getElementById('customDropdown');
                if (dropdown.style.display === 'block') {
                    dropdown.style.display = 'none';
                }
            }
        }
    </script>
</body>


</html>